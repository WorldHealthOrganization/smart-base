| File Name                | Goal                                                                 | Inputs                                                                 | Outputs                                                                 |
|--------------------------|----------------------------------------------------------------------|------------------------------------------------------------------------|-------------------------------------------------------------------------|
| `codesystem_manager.py`  | Manages FHIR CodeSystem and ValueSet resources by registering, merging, and rendering codes and properties for DAKs. | Code system IDs, titles, codes, display names, definitions, designations, properties; uses `stringer` for escaping/hashing. | FHIR CodeSystem and ValueSet FSH representations stored in dictionaries or rendered for implementation guides. |
| `bpmn_extractor.py`      | Extracts business process data from BPMN files and transforms them into FHIR FSH format using `bpmn2fhirfsh.xsl`. | BPMN files (`*.bpmn`) from `input/business-processes/`, `bpmn2fhirfsh.xsl`, `installer` object. | FHIR FSH resources (e.g., `SGRequirements`, `SGActor`) stored via `installer.add_resource`, logs transformation success/failure. |
| `dd_extractor.py`        | Extracts data dictionary entries from Excel files, generating FHIR ValueSets linked to business processes, tasks, decision tables, and indicators. | Excel files (`*.xlsx`) from `input/dictionary/`, cover sheet with tab names/descriptions, `installer` object. | FHIR ValueSet FSH representations stored via `installer.add_resource`, logs extraction details. |
| `DHIExtractor.py`        | Extracts digital health intervention (DHI) classifications and categories from text files, creating FHIR CodeSystems, ValueSets, and ConceptMaps. | Text files (`system_categories.txt`, `dhi_v1.txt`) from `input/data/`, `installer` object. | FHIR CodeSystem, ValueSet, ConceptMap FSH representations stored via `installer.add_resource`, logs extraction details. |
| `extractor.py`           | Base class for extracting data from various sources (e.g., Excel, BPMN), providing utility functions for data frame processing and logging. | Input file paths, column mappings, sheet names, `installer` object; subclasses define specific inputs. | Processed data frames with normalized columns, logs, resources stored via `installer` (specific to subclasses). |
| `extract_dhi.py`         | Orchestrates extraction of DHI data using `DHIExtractor`, coordinating with `installer` to process and store results. | Command-line arguments (optional, e.g., `--help`), text files via `DHIExtractor`. | Installed FHIR resources via `installer.install()`, logs success/failure, exits with status code. |
| `dt_extractor.py`        | Extracts decision table logic from Excel and CQL files, generating FHIR ValueSets, PlanDefinitions, ActivityDefinitions, and DMN representations. | Excel files (`*.xlsx`) from `input/decision-logic/`, CQL files (`*.cql`) from `input/cql/`, `dmn2html.xslt`, `installer` object. | FHIR ValueSet, PlanDefinition, ActivityDefinition FSH, DMN XML, markdown pages stored via `installer.add_resource`/`add_page`, logs details. |
| `extract_dak.py`         | Orchestrates extraction of DAK content by coordinating multiple extractors (data dictionary, BPMN, SVG, requirements, decision tables). | Command-line arguments (optional, e.g., `--help`), files processed by extractors (`dd_extractor`, etc.). | Installed FHIR resources via `installer.install()`, logs success/failure, exits with status code. |
| `installer.py`           | Manages installation of FHIR resources, pages, CQL files, and DMN tables, handling transformations (e.g., via `bpmn2fhirfsh.xsl`, `dmn2html.xslt`, `svg2svg.xsl`) and storage. | FHIR resources, CQL content, markdown pages, DMN XML, XSLT files, `sushi-config.yaml`, `multifile.xsd`, aliases. | Installed files in `input/fsh/`, `input/cql/`, `input/dmn/`, `input/pagecontent/`, logs installation success/failure. |
| `req_extractor.py`       | Extracts functional and non-functional requirements from Excel files, generating FHIR Requirement and ActorDefinition resources. | Excel files (`*.xlsx`) from `input/system-requirements/`, functional/non-functional sheet column mappings, `installer` object. | FHIR Requirement, ActorDefinition FSH stored via `installer.add_resource`, CodeSystem/ValueSet for categories, logs extraction details. |
| `svg_extractor.py`       | Extracts and transforms SVG files from business processes into FHIR-compatible formats using `svg2svg.xsl`. | SVG files (`*.svg`) from `input/business-processes/`, `svg2svg.xsl`, `installer` object. | Transformed SVG files stored in `input/images/`, logs transformation success/failure. |
| `stringer.py`            | Provides utility functions for string manipulation, including escaping, hashing, and ID normalization for FHIR resource generation. | Strings for escaping (XML, markdown, code, rulesets), names for ID conversion, inputs for blank/dash checks. | Escaped strings, hashed IDs, normalized IDs, logs for long ID hashing or errors. |
| `multifile_processor.py` | Processes multifile XML to apply file changes to a Git repository, handling branching, committing, and pushing. | Multifile XML (`<path_to_multifile.xml>`) with file paths, content, diff formats, Git repository context. | Updated files in repository, Git commits/pushes, logs for parsing and Git operation success/failure. |
| `svg2svg.xsl`            | Transforms SVG files to ensure compatibility with FHIR implementation guides, likely preserving or modifying business process visualizations. | SVG XML content from `input/business-processes/*.svg`, processed via `installer.transform_xml`. | Transformed SVG files stored in `input/images/`, compatible with FHIR rendering. |
| `dmn2html.xslt`          | Transforms DMN XML into HTML for displaying decision tables in implementation guides, including decision IDs, rules, triggers, inputs, and outputs. | DMN XML from `installer.add_dmn_table`, processed via `installer.transform_xml`. | HTML files in `input/pagecontent/` (e.g., `<id>.xml`), with links to FHIR CodeSystems, logs transformation details. |
| `bpmn2fhirfsh.xsl`       | Transforms BPMN XML into FHIR FSH, generating resources like Requirements, Actors, Questionnaires, and Decision Tables for business processes. | BPMN XML from `input/business-processes/*.bpmn`, processed via `installer.transform_xml`. | FHIR FSH resources (e.g., `SGRequirements`, `SGActor`) stored via `installer.add_resource`, with links to CodeSystems and StructureDefinitions. |
