<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>DAK API - WHO SMART Guidelines</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="WHO"/>
    
    <!-- FHIR IG styles - these paths will be relative to the output directory -->
    <link href="../../fhir.css" rel="stylesheet"/>
    <link href="../../assets/css/bootstrap-fhir.css" rel="stylesheet"/>
    <link href="../../assets/css/project.css" rel="stylesheet"/>
    <link href="../../assets/css/who.css" rel="stylesheet"/>
    
    <!-- OpenAPI/Swagger UI specific styles -->
    <link rel="stylesheet" type="text/css" href="./swagger-ui.css" />
    <style type="text/css">
      #swagger-ui {
        margin-top: 20px;
      }
      .api-description {
        background-color: #f8f9fa;
        padding: 20px;
        border-radius: 5px;
        margin-bottom: 20px;
        border-left: 4px solid #007bff;
      }
      .api-section {
        margin: 30px 0;
        padding: 20px;
        border: 1px solid #dee2e6;
        border-radius: 8px;
        background: #ffffff;
      }
      .endpoint-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 15px;
        margin-top: 20px;
      }
      .endpoint-card {
        border: 1px solid #ddd;
        padding: 15px;
        border-radius: 6px;
        background: #f8f9fa;
      }
    </style>
  </head>

  <body>
    <div class="container">
      <div class="row">
        <div class="inner-wrapper">
          <div class="col-12">
            <h2 id="root">DAK API: Digital Adaptation Kit API Documentation</h2>
            
            <div class="api-description">
              <p>
                This API provides programmatic access to WHO SMART Guideline Digital Adaptation Kit (DAK) resources.
                The API includes endpoints for accessing clinical decision support logic, indicators, and guideline content.
              </p>
              <p>
                Use the interactive documentation below to explore all available endpoints and test API functionality.
              </p>
            </div>
            
            <div class="api-section">
              <h3>Core API Endpoints</h3>
              <p>The following endpoints provide access to core DAK functionality:</p>
              <div class="endpoint-grid">
                <div class="endpoint-card">
                  <h4>/health</h4>
                  <p>Health check endpoint for API status monitoring</p>
                </div>
                <div class="endpoint-card">
                  <h4>/guidelines</h4>
                  <p>Access clinical guideline definitions and recommendations</p>
                </div>
                <div class="endpoint-card">
                  <h4>/indicators</h4>
                  <p>Retrieve health program indicators and metrics</p>
                </div>
              </div>
            </div>
            
            <div class="api-section">
              <h3>Trust Network Integration</h3>
              <p>Additional endpoints for trust network operations and certificate verification:</p>
              <div class="endpoint-grid">
                <div class="endpoint-card">
                  <h4>/trustlist</h4>
                  <p>Retrieve current trust list for certificate verification</p>
                </div>
                <div class="endpoint-card">
                  <h4>/verify</h4>
                  <p>Verify digital certificates against trust network</p>
                </div>
              </div>
            </div>
            
            <!-- OpenAPI Swagger UI Container -->
            <div id="swagger-ui"></div>
          </div>
        </div>
      </div>
    </div>

    <!-- OpenAPI/Swagger UI scripts -->
    <script src="./swagger-ui-bundle.js" charset="UTF-8"> </script>
    <script src="./swagger-ui-standalone-preset.js" charset="UTF-8"> </script>
    <script>
      window.onload = function() {
        const ui = SwaggerUIBundle({
          url: './openapi.json',
          dom_id: '#swagger-ui',
          deepLinking: true,
          presets: [
            SwaggerUIBundle.presets.apis,
            SwaggerUIStandalonePreset
          ],
          plugins: [
            SwaggerUIBundle.plugins.DownloadUrl
          ],
          layout: "StandaloneLayout"
        });
      };
    </script>
  </body>
</html>